<html><head><title>Return information about the status of tracking</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="Rchm.css">
</head>
<body>

<table width="100%"><tr><td>track.status(trackObjs)</td><td align="right">R Documentation</td></tr></table><object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e">
<param name="keyword" value="R:   track.status">
<param name="keyword" value="R:   track.dir">
<param name="keyword" value="R:   tracked">
<param name="keyword" value="R:   untracked">
<param name="keyword" value="R:   untrackable">
<param name="keyword" value="R:   track.unsaved">
<param name="keyword" value="R:   track.orphaned">
<param name="keyword" value="R:   track.masked">
<param name="keyword" value=" Return information about the status of tracking">
</object>


<h2>Return information about the status of tracking</h2>


<h3>Description</h3>

<p>
Return information about the status of tracking in a particular
environment.  Functions tell which variables are and which are not
tracked, and whether objects exist in memory or in files.
</p>


<h3>Usage</h3>

<pre>
track.status(pos = 1, envir = as.environment(pos), expr,
        qexpr = NULL, list = NULL, pattern = NULL, glob = NULL,
        file.status = TRUE, tracked = NA, reserved=FALSE,
        what = c("all", "tracked", "trackable", "untracked",
                 "orphaned", "masked", "unsaved", "untrackable"))
tracked(        pos=1, envir=as.environment(pos), list=NULL, pattern=NULL, glob=NULL)
untracked(      pos=1, envir=as.environment(pos), list=NULL, pattern=NULL, glob=NULL)
track.orphaned( pos=1, envir=as.environment(pos), list=NULL, pattern=NULL, glob=NULL)
track.masked(   pos=1, envir=as.environment(pos), list=NULL, pattern=NULL, glob=NULL)
untrackable(    pos=1, envir=as.environment(pos), list=NULL, pattern=NULL, glob=NULL)
track.unsaved(  pos=1, envir=as.environment(pos), list=NULL, pattern=NULL, glob=NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>pos</code></td>
<td>
The search path position of the environment being tracked
(default is 1 for the global environment)</td></tr>
<tr valign="top"><td><code>envir</code></td>
<td>
The environment being tracked.  This is an alternate way
(to the use of <code>pos=</code>)
of specifying the environment being tracked, but should be rarely needed.</td></tr>
<tr valign="top"><td><code>expr</code></td>
<td>
An unquoted variable name </td></tr>
<tr valign="top"><td><code>qexpr</code></td>
<td>
A variable name as an expression &ndash; not intended for use
by end-users </td></tr>
<tr valign="top"><td><code>list</code></td>
<td>
A character vector of variable names </td></tr>
<tr valign="top"><td><code>pattern</code></td>
<td>
A regular expression specifying variable names to operate upon </td></tr>
<tr valign="top"><td><code>glob</code></td>
<td>
A regular expression specifying variable names to operate upon </td></tr>
<tr valign="top"><td><code>file.status</code></td>
<td>
Check whether or not the file associated with a
tracked object exists </td></tr>
<tr valign="top"><td><code>tracked</code></td>
<td>
If <code>TRUE</code>, return information only on tracked
objects, if <code>FALSE</code>, return information only on objects that
are not tracked, and if <code>NA</code> return information on all
variables (subject to other filtering).</td></tr>
<tr valign="top"><td><code>what</code></td>
<td>
controls the information returned: <code>"all"</code> means
return a data frame of status, other values means return a list of
names of objects having that status </td></tr>
<tr valign="top"><td><code>reserved</code></td>
<td>
If <code>TRUE</code>, include info about non-tracked variables with
reserved names.  The default is to always omit these variables from
the status summary.</td></tr>
</table>

<h3>Details</h3>

<p>
These functions return information about the status of tracking on
some or all variables in <code>envir</code> and the tracking environment.
Tracking status depends on the relationship among three entities used
for a tracked object:
<ul>
<li>the binding in <code>envir</code> which should
be an active binding that refers to the tracking environment
<li>the cached object in the tracking environment
<li>the corresponding disk file in the tracking directory
</ul>
<p>
The arguments <code>expr</code>, <code>list</code>, <code>pattern</code>, and
<code>glob</code> all serve to restrict the set of variables considered.
</p>


<h3>Value</h3>

<table summary="R argblock">
<tr valign="top"><td><code>track.status:</code></td>
<td>
returns a <code>data.frame</code> if
<code>what=="all"</code>, or a character vector otherwise.</td></tr>
<tr valign="top"><td><code>track.dir:</code></td>
<td>
returns a single character string that is the
full path to the directory where copies of objects are stored (the
"tracking directory").</td></tr>
<tr valign="top"><td><code>tracked, untracked, track.orphaned,
track.masked, untrackable, track.unsaved:</code></td>
<td>
all
return a character vector naming the variables with a particular
status.</td></tr>
</table>

<h3>Note</h3>

<p>
These functions check whether the binding in <code>envir</code> is an
active binding, but they cannot check whether the active binding has
the correct function associated with it because R provides no
mechanism for R-level access to the function associated with active
bindings.
</p>


<h3>Author(s)</h3>

<p>
Tony Plate &lt;tplate@acm.org&gt;
</p>


<h3>See Also</h3>

<p>
<a href="track.design.html">design</a> of the <code>trackObjs</code> package.
</p>


<h3>Examples</h3>

<pre>
library(trackObjs)
unlink("tmp1", recursive=TRUE)
remove(list=ls(all=TRUE))
track.start("tmp1", cache=TRUE)
# with the standard options, create a variable with each status:
# "tracked", "trackable", "untracked", "orphaned", "masked", "unsaved"
# create some objects that are untrackable for various reasons
makeActiveBinding("uncoop", function(v) cat("I'm a binding that does nothing!\n"), globalenv())
.trackingFileMap &lt;- "aren't I a mischevious little object :-)"
.trackingEnv &lt;- "I simply can't be tracked!"
track(uncoop)
track(.trackingFileMap)
track(x1 &lt;- 123)
track(x2 &lt;- 456)
track(x3 &lt;- 789)
track(x4 &lt;- -321)
track(x5 &lt;- -654)
x6 &lt;- -987
track.status()
remove(list=c("x4", "x5"))
x5 &lt;- "not tracked"
track.flush(x2)
track.status(reserved=TRUE)
track.options(writeToDisk=FALSE)
x3 &lt;- 0
track.status()
track.save()
track.status()
x3 &lt;- 1
track.status()
track.unsaved()
tracked()
untracked()
untrackable()
track.masked()
track.orphaned()
track.save(x3)
track.status()
# Test forgetting an unsaved variable
x3
x3 &lt;- 2
track.unsaved()
x3
track.forget(x3)
x3
# Test untracking a variable
track.options(cache=FALSE)
x2
track.status()
bindingIsActive("x2", globalenv())
untrack(x2)
track.status()
bindingIsActive("x2", globalenv())
bindingIsActive("x3", globalenv())
untrack(x3, keep.in.db=TRUE)
track.status()
bindingIsActive("x3", globalenv())
# Try saving some objects to a file then loading them into the tracked environment
y1 &lt;- 1
y2 &lt;- "abc"
y3 &lt;- list(2, "def")
save(list=c("y1", "y2", "y3"), file="tmpy.rda")
remove(list=c("y1", "y2", "y3"))
track.options(list(writeToDisk=TRUE, cache=TRUE))
track.status()
track.load("tmpy.rda")
unlink("tmpy.rda")
track.status()
y1
y2
y3
# See if the protection mechanisms against overwriting vars in
# track.load work correctly.
y4 &lt;- 4
y5 &lt;- 5
save(list=c("y3", "y4", "y5"), file="tmpy.rda")
remove(list=c("y4"))
y3 &lt;- "new value"
y3
track.load("tmpy.rda")
y3
track.status()
track.load("tmpy.rda", clobber=TRUE)
y3
y4
y5
track.stop()
unlink("tmp1", recursive=TRUE)
</pre>



<hr><div align="center">[Package <em>trackObjs</em> version 0.8-5 <a href="00Index.html">Index</a>]</div>

</body></html>
