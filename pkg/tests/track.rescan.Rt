> options(error=function() NULL)
> invisible(if (file.exists("tmp15")) unlink("tmp15", recursive=TRUE))
> invisible(if (file.exists("tmp16")) unlink("tmp15", recursive=TRUE))
> # Create one db
> track.attach("tmp15", pos=2, name="track:tmp15", readonly=FALSE, create=TRUE)
Tracking <env track:tmp15> using new directory tmp15 
> assign("x", 1, pos=2)
> assign("z", 3, pos=2)
> track.status(pos=2)
   Status InMem FileBase FileExists Saved
x tracked FALSE        x       TRUE  TRUE
z tracked FALSE        z       TRUE  TRUE
> track.detach(pos=2)
> 
> # Create the second db
> track.attach("tmp16", pos=2, name="track:tmp16", readonly=FALSE, create=TRUE)
Tracking <env track:tmp16> using new directory tmp16 
> assign("x", 11, pos=2)
> assign("y", 12, pos=2)
> track.status(pos=2)
   Status InMem FileBase FileExists Saved
x tracked FALSE        x       TRUE  TRUE
y tracked FALSE        y       TRUE  TRUE
> x
[1] 11
> y
[1] 12
> file.rename("tmp16", "tmp16.hid")
[1] TRUE
> file.rename("tmp15", "tmp16")
[1] TRUE
> track.rescan(pos=2)
> track.status(pos=2)
   Status InMem FileBase FileExists Saved
x tracked FALSE        x       TRUE  TRUE
z tracked FALSE        z       TRUE  TRUE
> x
[1] 1
> y
Error: object 'y' not found
> z
[1] 3
> 
> 
